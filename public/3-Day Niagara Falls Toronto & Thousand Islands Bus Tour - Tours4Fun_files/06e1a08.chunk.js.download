(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{1101:function(t,n){L.interpolatePosition=function(t,n,e,r){var o=r/e;return o=(o=o>0?o:0)>1?1:o,L.latLng(t.lat+o*(n.lat-t.lat),t.lng+o*(n.lng-t.lng))},L.Marker.MovingMarker=L.Marker.extend({statics:{notStartedState:0,endedState:1,pausedState:2,runState:3},options:{autostart:!1,loop:!1},initialize:function(t,n,e){L.Marker.prototype.initialize.call(this,t[0],e),this._latlngs=t.map((function(t,n){return L.latLng(t)})),this._durations=n instanceof Array?n:this._createDurations(this._latlngs,n),this._currentDuration=0,this._currentIndex=0,this._state=L.Marker.MovingMarker.notStartedState,this._startTime=0,this._startTimeStamp=0,this._pauseStartTime=0,this._animId=0,this._animRequested=!1,this._currentLine=[],this._stations={}},isRunning:function(){return this._state===L.Marker.MovingMarker.runState},isEnded:function(){return this._state===L.Marker.MovingMarker.endedState},isStarted:function(){return this._state!==L.Marker.MovingMarker.notStartedState},isPaused:function(){return this._state===L.Marker.MovingMarker.pausedState},start:function(){this.isRunning()||(this.isPaused()?this.resume():(this._loadLine(0),this._startAnimation(),this.fire("start")))},resume:function(){this.isPaused()&&(this._currentLine[0]=this.getLatLng(),this._currentDuration-=this._pauseStartTime-this._startTime,this._startAnimation())},pause:function(){this.isRunning()&&(this._pauseStartTime=Date.now(),this._state=L.Marker.MovingMarker.pausedState,this._stopAnimation(),this._updatePosition())},stop:function(t){this.isEnded()||(this._stopAnimation(),void 0===t&&(t=0,this._updatePosition()),this._state=L.Marker.MovingMarker.endedState,this.fire("end",{elapsedTime:t}))},addLatLng:function(t,n){this._latlngs.push(L.latLng(t)),this._durations.push(n)},moveTo:function(t,n){this._stopAnimation(),this._latlngs=[this.getLatLng(),L.latLng(t)],this._durations=[n],this._state=L.Marker.MovingMarker.notStartedState,this.start(),this.options.loop=!1},addStation:function(t,n){t>this._latlngs.length-2||t<1||(this._stations[t]=n)},onAdd:function(map){L.Marker.prototype.onAdd.call(this,map),!this.options.autostart||this.isStarted()?this.isRunning()&&this._resumeAnimation():this.start()},onRemove:function(map){L.Marker.prototype.onRemove.call(this,map),this._stopAnimation()},_createDurations:function(t,n){var i,e=t.length-1,r=[],o=0,c=0;for(i=0;i<e;i++)c=t[i+1].distanceTo(t[i]),r.push(c),o+=c;var h=n/o,d=[];for(i=0;i<r.length;i++)d.push(r[i]*h);return d},_startAnimation:function(){this._state=L.Marker.MovingMarker.runState,this._animId=L.Util.requestAnimFrame((function(t){this._startTime=Date.now(),this._startTimeStamp=t,this._animate(t)}),this,!0),this._animRequested=!0},_resumeAnimation:function(){this._animRequested||(this._animRequested=!0,this._animId=L.Util.requestAnimFrame((function(t){this._animate(t)}),this,!0))},_stopAnimation:function(){this._animRequested&&(L.Util.cancelAnimFrame(this._animId),this._animRequested=!1)},_updatePosition:function(){var t=Date.now()-this._startTime;this._animate(this._startTimeStamp+t,!0)},_loadLine:function(t){this._currentIndex=t,this._currentDuration=this._durations[t],this._currentLine=this._latlngs.slice(t,t+2)},_updateLine:function(t){var n=t-this._startTimeStamp;if(n<=this._currentDuration)return n;for(var e,r=this._currentIndex,o=this._currentDuration;n>o;){if(n-=o,void 0!==(e=this._stations[r+1])){if(n<e)return this.setLatLng(this._latlngs[r+1]),null;n-=e}if(++r>=this._latlngs.length-1){if(!this.options.loop)return this.setLatLng(this._latlngs[this._latlngs.length-1]),this.stop(n),null;r=0,this.fire("loop",{elapsedTime:n})}o=this._durations[r]}return this._loadLine(r),this._startTimeStamp=t-n,this._startTime=Date.now()-n,n},_animate:function(t,n){this._animRequested=!1;var e=this._updateLine(t);if(!this.isEnded()){if(null!==e){var p=L.interpolatePosition(this._currentLine[0],this._currentLine[1],this._currentDuration,e);this.setLatLng(p)}n||(this._animId=L.Util.requestAnimFrame(this._animate,this,!1),this._animRequested=!0)}}}),L.Marker.movingMarker=function(t,n,e){return new L.Marker.MovingMarker(t,n,e)}},1102:function(t,n,e){"use strict";e(826)},1103:function(t,n,e){"use strict";e(827)},1258:function(t,n,e){"use strict";e.r(n);var r=e(14);e(1099);function o(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function c(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?o(Object(e),!0).forEach((function(n){Object(r.a)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var h={name:"MyMapBox",props:{markers:{type:Array,required:!0},productItineraryInfo:{type:Array,required:!0}},computed:{swappedLocations(){return this.markers.map((t=>[t[1],t[0]]))}},mounted(){console.log(this.productItineraryInfo);var t=e(1100);e(1101);var n=t.icon({iconUrl:"https://cdn.tff.bz/public/wt/66/f9/20241224094120054727660.png",iconAnchor:[7,7]}),r=t.icon({iconUrl:"https://cdn.tourradar.com/images/responsive/tour/start-map-new.svg",iconAnchor:[15,20]}),o=t.icon({iconUrl:"https://cdn.tourradar.com/images/responsive/tour/end-map-new.svg",iconAnchor:[15,20]}),h=t.icon({iconUrl:"https://cdn.tourradar.com/images/responsive/tour/runner-new.svg?v=1",iconAnchor:[7,7]}),map=t.map("map").setView(this.swappedLocations[0],5).addLayer(t.tileLayer("https://api.mapbox.com/styles/v1/mapbox/outdoors-v12/tiles/512/{z}/{x}/{y}?access_token=pk.eyJ1IjoidG91cnM0ZnVuIiwiYSI6ImNtNTB0OWFyajF3azMyaXA3ajRkM2t3enQifQ.g-LRKYRFvzUFpyvae9xljQ",{tileSize:512,zoomOffset:-1,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> Â© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> <strong><a href="https://labs.mapbox.com/contribute/" target="_blank">Improve this map</a></strong>'})),d=t.latLngBounds(this.swappedLocations);map.fitBounds(d);for(var l=0;l<this.swappedLocations.length;l++)t.marker(this.swappedLocations[l],{icon:n}).addTo(map);t.marker(this.swappedLocations[0],{icon:r}).addTo(map),t.marker(this.swappedLocations[this.swappedLocations.length-1],{icon:o}).addTo(map);for(var i=0;i<this.productItineraryInfo.length;i++){var m=this.productItineraryInfo[i],_=this.productItineraryInfo[i-1],f=!1;if(_){var L=_.city.map((t=>t.cityDescription.tourCityId)),v=m.city.map((t=>t.cityDescription.tourCityId));f=L.join()===v.join()}var y={};y=f&&m.attraction.length?c(c({},m.attraction[0]),{},{city:m.city[0]}):m.city.length?c({},m.city[0]):c({},m.attraction[0]);try{y.latitude=y.cityDescription.latitude,y.longitude=y.cityDescription.longitude;var M=t.divIcon({html:'<div class="daily-point">'.concat(i+1,"</div>"),className:"daily-point-wrapper",iconAnchor:[12,40]});t.marker([y.latitude,y.longitude],{icon:M}).addTo(map)}catch(t){}}t.polyline(this.swappedLocations).addTo(map),t.Marker.movingMarker(this.swappedLocations,5e3,{autostart:!0,loop:!0,icon:h}).addTo(map)}},d=(e(1102),e(1103),e(63)),component=Object(d.a)(h,(function(){return(0,this._self._c)("div",{attrs:{id:"map"}})}),[],!1,null,"7fe764ca",null);n.default=component.exports},826:function(t,n,e){t.exports={}},827:function(t,n,e){t.exports={}}}]);