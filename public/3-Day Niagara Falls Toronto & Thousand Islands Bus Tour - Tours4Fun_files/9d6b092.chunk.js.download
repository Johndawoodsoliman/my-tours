(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{1180:function(o,e,t){"use strict";t.r(e);var n=t(5),c=(t(13),t(23),t(16),{name:"MyCheckBooking",components:{MyCustomPopup:()=>t.e(0).then(t.bind(null,1191))},data(){return{checkBookingsLoading:!1,checkBookingsForm:{orderId:"",email:"",country_code:this.$store.state.countryCode,phone:""},checkBookingsRules:{orderId:{required:!0,message:this.$t("components.MyCheckBooking.PleaseEnter"),trigger:"blur"},email:[{required:!0,message:this.$t("components.MyCheckBooking.PleaseEnter"),trigger:"change"},{pattern:this.$store.state.emailRegExp,message:this.$t("components.MyCheckBooking.PleaseEnterValidEmail"),trigger:["blur","change"]}],phone:[{required:!0,message:this.$t("components.MyCheckBooking.PleaseEnter"),trigger:["blur","change"]},{min:6,max:14,message:this.$t("components.MyCheckBooking.PleaseEnterValidPhoneNumber"),trigger:"change"}]}}},computed:{checkBookingsPopup:{get(){return this.$store.state.checkBookingsPopup},set(o){this.$store.commit("updateCheckBookingsPopup",o)}}},methods:{closeCheckBookingsForm(){this.checkBookingsPopup=!1},confirmCheckBookingsForm(){var o=this;this.$refs.checkBookingsFormRef.validate(function(){var e=Object(n.a)((function*(e){if(e){o.$GA4CustomEvent(null,"CheckYourOrderStatusPopUp_TrackMyOrder_click"),o.checkBookingsLoading=!0;var data=yield o.$axios.post("/api/user/trackOrder",{orderNum:"E-".concat(o.checkBookingsForm.orderId),email:o.checkBookingsForm.email,phone:"".concat(o.checkBookingsForm.country_code.split("-")[1],"-").concat(o.checkBookingsForm.phone)});o.checkBookingsLoading=!1,0===data.data.code?yield o.$router.push(o.localePath({name:"trip_tour"===data.data.data.productList[0].productLine?"TripMineOrderInfo":"MineOrderInfo",query:{orderId:data.data.data.orderId,orderProductId:data.data.data.productList[0].orderProductId,token:data.data.data.token}}),(()=>{o.checkBookingsPopup=!1})):o.$message.error(data.data.msg)}}));return function(o){return e.apply(this,arguments)}}())},closedCheckBookingsForm(){this.$refs.checkBookingsFormRef.resetFields()}}}),r=c,k=(t(936),t(937),t(63)),component=Object(k.a)(r,(function(){var o=this,e=o._self._c;return e("div",{attrs:{id:"my-check-booking"}},[e("MyCustomPopup",{attrs:{width:700,height:600,title:o.$t("components.MyCheckBooking.Title")},on:{closed:o.closedCheckBookingsForm},model:{value:o.checkBookingsPopup,callback:function(e){o.checkBookingsPopup=e},expression:"checkBookingsPopup"}},[e("div",{directives:[{name:"loading",rawName:"v-loading",value:o.checkBookingsLoading,expression:"checkBookingsLoading"}]},[e("el-form",{ref:"checkBookingsFormRef",attrs:{"label-position":"top",model:o.checkBookingsForm,rules:o.checkBookingsRules}},[e("el-form-item",[e("div",{staticClass:"my-check-booking-tips"},[o._v(o._s(o.$t("components.MyCheckBooking.TipsOne")))])]),o._v(" "),e("el-form-item",{attrs:{label:o.$t("components.MyCheckBooking.BookingNo"),prop:"orderId"}},[e("el-input",{staticClass:"my-check-booking-input",attrs:{type:"number",placeholder:o.$t("components.MyCheckBooking.PleaseEnter")},scopedSlots:o._u([{key:"prepend",fn:function(){return[o._v("E-")]},proxy:!0}]),model:{value:o.checkBookingsForm.orderId,callback:function(e){o.$set(o.checkBookingsForm,"orderId",e)},expression:"checkBookingsForm.orderId"}})],1),o._v(" "),e("el-form-item",[e("div",{staticClass:"my-check-booking-tips"},[o._v(o._s(o.$t("components.MyCheckBooking.TipsTwo")))])]),o._v(" "),e("el-form-item",{attrs:{label:o.$t("components.MyCheckBooking.EmailAddress"),prop:"email"}},[e("el-input",{attrs:{placeholder:o.$t("components.MyCheckBooking.PleaseEnter")},model:{value:o.checkBookingsForm.email,callback:function(e){o.$set(o.checkBookingsForm,"email",e)},expression:"checkBookingsForm.email"}})],1),o._v(" "),e("el-form-item",{attrs:{label:o.$t("components.MyCheckBooking.PhoneNumber"),prop:"phone"}},[e("el-row",{attrs:{gutter:16}},[e("el-col",{attrs:{span:8}},[e("el-select",{attrs:{filterable:""},model:{value:o.checkBookingsForm.country_code,callback:function(e){o.$set(o.checkBookingsForm,"country_code",e)},expression:"checkBookingsForm.country_code"}},o._l(o.$store.state.areaCode,(function(t,n){return e("el-option",{key:n,attrs:{label:"+".concat(t.countryCode),value:"".concat(t.countryCodeTwo,"-").concat(t.countryCode)}},[e("span",[o._v(o._s("".concat(t.countryName,"(+").concat(t.countryCode,")")))])])})),1)],1),o._v(" "),e("el-col",{attrs:{span:16}},[e("el-input",{attrs:{placeholder:o.$t("components.MyCheckBooking.PleaseEnter")},model:{value:o.checkBookingsForm.phone,callback:function(e){o.$set(o.checkBookingsForm,"phone",e)},expression:"checkBookingsForm.phone"}})],1)],1)],1)],1),o._v(" "),e("div",{staticClass:"my-check-booking-footer"},[e("el-button",{attrs:{type:"primary"},on:{click:o.confirmCheckBookingsForm}},[o._v("\n                    "+o._s(o.$t("components.MyCheckBooking.TrackMyOrder"))+"\n                ")]),o._v(" "),e("el-button",{on:{click:o.closeCheckBookingsForm}},[o._v("\n                    "+o._s(o.$t("components.MyCheckBooking.Cancel"))+"\n                ")])],1)],1)])],1)}),[],!1,null,"57f5b485",null);e.default=component.exports},706:function(o,e,t){o.exports={}},707:function(o,e,t){o.exports={}},936:function(o,e,t){"use strict";t(706)},937:function(o,e,t){"use strict";t(707)}}]);