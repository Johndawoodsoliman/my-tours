(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{1174:function(t,e,n){"use strict";n.r(e);var o=n(5),r=(n(13),n(23),n(19),n(37),n(101),n(16),{name:"MyHeader",components:{MyAvatar:()=>n.e(46).then(n.bind(null,1203)),MyMineMenu:()=>n.e(47).then(n.bind(null,1204)),MyCustomPopup:()=>n.e(0).then(n.bind(null,1191)),MyHeaderTip:()=>n.e(111).then(n.bind(null,1246))},props:{needHeaderTip:{type:Boolean,default:!0}},data:()=>({keywords:"",accountPopoverShow:!1,accountDrawerShow:!1,asideDrawerShow:!1,asideDrawerType:"destination",asideDrawerIndex:0,destinationOptionsIndex:0,destinationPopoverShow:!1,destinationDrawerShow:!1,destinationDetailOptionsIndex:0,destinationDetailDrawerShow:!1,destinationDetailChildrenDrawerShow:!1,contactPopoverShow:!1,contactDrawerShow:!1,currencyPopoverShow:!1,currencyDrawerShow:!1,languagePopoverShow:!1,languageDrawerShow:!1,searchDrawerShow:!1,showSearchInput:!1,querySearchLoading:!1,historySearch:[],searchSuggestProducts:[],searchSuggestDestinations:[],vacationPopoverShow:!1,vacationOptionsIndex:0,vacationDetailOptionsTop:[],thingsPopoverShow:!1,thingsOptionsIndex:0,thingsDetailOptionsTop:[]}),computed:{userInfo(){return this.$store.state.userInfo},destinationOptions(){return this.$store.state.destinationOptions||[]},destinationDetailOptions(){return this.destinationOptions.length>0?this.destinationOptions[this.destinationOptionsIndex].links:[]},vacationOptions(){return this.$store.state.vacationOptions||[]},vacationDetailOptions(){return this.vacationOptions.length>0?this.vacationOptions[this.vacationOptionsIndex].links:[]},thingsOptions(){return this.$store.state.thingsOptions||[]},thingsDetailOptions(){return this.thingsOptions.length>0?this.thingsOptions[this.thingsOptionsIndex].links:[]},asideDrawerDetailTitle(){return this.asideDrawerTypeOptions.length>0?this.asideDrawerTypeOptions[this.destinationOptionsIndex].name:""},asideDrawerTypeOptions(){var t={destination:this.destinationOptions,vocation:this.vacationOptions,things:this.thingsOptions}[this.asideDrawerType];return t&&t.length>0?t:[]},asideDrawerTypeDetailOptions(){return this.asideDrawerTypeOptions.length>0?this.asideDrawerTypeOptions[this.destinationOptionsIndex].links:[]},destinationDetailChildrenOptions(){return this.asideDrawerTypeDetailOptions.length>0?this.asideDrawerTypeDetailOptions[this.destinationDetailOptionsIndex].links:[]},destinationDetailChildrenTitle(){return this.asideDrawerTypeDetailOptions.length>0?this.asideDrawerTypeDetailOptions[this.destinationDetailOptionsIndex].name:""},marketingInfo(){var t;return null===(t=this.$store.state.marketingTouchPoints)||void 0===t?void 0:t.search}},mounted(){this.historySearch=localStorage.getItem("historySearch")?JSON.parse(localStorage.getItem("historySearch")):[]},methods:{closeAccountPopover(){this.accountPopoverShow=!1},openAccountDrawer(){this.accountDrawerShow=!0},closeAccountDrawer(){this.accountDrawerShow=!1},openAsideDrawer(){this.asideDrawerShow=!0},openDestinationDrawer(t){this.asideDrawerType=t,this.destinationDrawerShow=!0},closeDestinationDrawer(){this.destinationDrawerShow=!1},changeDestinationOptionsIndex(t){this.destinationOptionsIndex=t},openDestinationDetailDrawer(t,e){this.changeDestinationOptionsIndex(e),this.asideDrawerCustomEvent(t.name),this.destinationDetailDrawerShow=!0},closeDestinationDetailDrawer(){this.changeDestinationOptionsIndex(0),this.destinationDetailDrawerShow=!1},changeDestinationDetailOptionsIndex(t){this.destinationDetailOptionsIndex=t},openDestinationDetailChildrenDrawer(t,e){this.changeDestinationDetailOptionsIndex(e),this.asideDrawerCustomEvent(this.asideDrawerTypeOptions[this.destinationOptionsIndex].name,t.name),this.destinationDetailChildrenDrawerShow=!0},closeDestinationDetailChildrenDrawer(){this.changeDestinationDetailOptionsIndex(0),this.destinationDetailChildrenDrawerShow=!1},changeVacationOptionsIndex(t){this.vacationOptionsIndex=t},changeThingsOptionsIndex(t){this.thingsOptionsIndex=t},openContactDrawer(){this.contactDrawerShow=!0},openCurrencyDrawer(){this.currencyDrawerShow=!0},confirmCurrencyPopover(t){this.$GA4CustomEvent("TopNav_Currency_Switch",t.code),this.$cookies.set("currency",t.code,{domain:".tours4fun.com",expires:new Date((new Date).getTime()+31536e6),path:"/",secure:!0}),window.location.reload()},confirmCurrencyDrawer(t){this.$GA4CustomEvent("TopNav_Currency_Switch",t.code),this.$cookies.set("currency",t.code,{domain:".tours4fun.com",expires:new Date((new Date).getTime()+31536e6),path:"/",secure:!0}),window.location.reload()},dealLanguageUrl(t){var e=this.$route.fullPath.replace("/es","");return e="/"===e[0]?e:"/".concat(e),"zh-cn"===t.code&&(e="/"),"zh-tw"===t.code&&(e="/"),/.+\/$/.test("".concat(t.href).concat(e))?"".concat(t.href).concat(e).slice(0,-1):"".concat(t.href).concat(e)},openLanguageDrawer(){this.languageDrawerShow=!0},closeLanguageDrawer(){this.languageDrawerShow=!1},openSearchInput(){this.showSearchInput=!0},hideSearchInput(){this.showSearchInput=!1,this.querySearchLoading=!1},querySearch(){var t=this;return Object(o.a)((function*(){if(t.keywords.length>1){t.querySearchLoading=!0;var data=yield t.$axios.get("/api/search/advanced_suggestion",{params:{keyword:t.keywords}});t.querySearchLoading=!1,0===data.data.code&&(t.searchSuggestProducts=data.data.data.products,t.searchSuggestDestinations=data.data.data.destinations)}else t.searchSuggestProducts=[],t.searchSuggestDestinations=[]}))()},setHistoryCookie(){localStorage.setItem("historySearch",JSON.stringify(this.historySearch))},deleteHistorySearch(t){this.historySearch.splice(t,1),this.setHistoryCookie()},clickSuggestProducts(t){var e=this.historySearch.findIndex((e=>e.name===t.productName));if(-1===e)this.historySearch.length>=8&&this.historySearch.pop(),this.historySearch.unshift({name:t.productName,type:"",source:"product",url:t.urlPath,id:t.productId});else{var[n]=this.historySearch.splice(e,1);this.historySearch.unshift(n)}this.setHistoryCookie(),this.$toProductInfo(t.urlPath)},clickSuggestDestinations(t){var e=this.historySearch.findIndex((e=>e.name===t.name));if(-1===e)this.historySearch.length>=8&&this.historySearch.pop(),this.historySearch.unshift({name:t.name,type:t.type,source:"destination",url:t.url});else{var[n]=this.historySearch.splice(e,1);this.historySearch.unshift(n)}this.setHistoryCookie(),this.handleUrl("/sp/d-".concat(t.url,"/"))},toSearchResult(){if(this.keywords&&this.$GA4CustomEvent("TopNav_Search",this.keywords),this.marketingInfo&&!this.keywords)window.open(this.marketingInfo.url,"_blank");else{this.querySearchLoading=!1;var t=this.historySearch.findIndex((t=>t.name===this.keywords));if(this.keywords&&-1===t)this.historySearch.length>=8&&this.historySearch.pop(),this.historySearch.unshift({name:this.keywords,type:"",source:"keywords",url:""});else{var[e]=this.historySearch.splice(t,1);this.historySearch.unshift(e)}this.setHistoryCookie(),this.handleUrl("/sr?q=".concat(this.keywords))}},clickToSearchResult(data){"product"===data.source?this.$toProductInfo(data.url):"destination"===data.source?this.handleUrl("/sp/d-".concat(data.url,"/")):this.handleUrl("/sr?q=".concat(data.name));var t=this.historySearch.findIndex((t=>t.name===data.name)),[e]=this.historySearch.splice(t,1);this.historySearch.unshift(e),this.setHistoryCookie()},handleUrl(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_self",path=this.$displaySiteUrl(t);window.open(path,e)},openSearchDrawer(){this.searchDrawerShow=!0},openCheckBookings(){this.$store.commit("updateCheckBookingsPopup",!0)},toLogin(){this.$GA4CustomEvent("TopNav_LogIn_Click","Log In"),this.closeAccountPopover(),this.$router.push(this.localePath({name:"Login"}))},toSignUp(){this.$GA4CustomEvent("TopNav_SignUp_Click","Sign Up"),this.closeAccountPopover(),this.$router.push(this.localePath({name:"Sign"}))},toLogout(){var t=this;return Object(o.a)((function*(){0===(yield t.$axios.get("/api/user/logout")).data.code&&t.$store.commit("updateUserInfo",null)}))()},toAccountInformation(){this.closeAccountDrawer(),this.$router.push(this.localePath({name:"MineAccountInformation"}))},toWishList(){this.$router.push(this.localePath({name:"MineWishList"}))},destinationCustomEvent(t,e){var label="Destination_".concat(this.destinationOptions[this.destinationOptionsIndex].name);t&&(label+="_".concat(t)),e&&(label+="_".concat(e)),this.$GA4CustomEvent("TopNavBar_Click",label)},vacationPackageCustomEvent(t,e){var label="VacationPackage_".concat(this.vacationOptions[this.vacationOptionsIndex].name);t&&(label+="_".concat(t)),e&&(label+="_".concat(e)),this.$GA4CustomEvent("TopNavBar_Click",label)},thingsToDuCustomEvent(t,e){var label="ThingsToDu_".concat(this.thingsOptions[this.thingsOptionsIndex].name);t&&(label+="_".concat(t)),e&&(label+="_".concat(e)),this.$GA4CustomEvent("TopNavBar_Click",label)},asideDrawerCustomEvent(t,e,n){var label="";"destination"===this.asideDrawerType&&(label="Destination"),"vocation"===this.asideDrawerType&&(label="VacationPackage"),"things"===this.asideDrawerType&&(label="ThingsToDu"),t&&(label+="_".concat(t)),e&&(label+="_".concat(e)),n&&(label+="_".concat(n)),this.$GA4CustomEvent("TopNavBar_Click",label)}}}),c=r,l=(n(928),n(929),n(63)),component=Object(l.a)(c,(function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"my-header"}},[t.needHeaderTip?e("MyHeaderTip"):t._e(),t._v(" "),e("div",{staticClass:"my-header-content"},[e("div",{staticClass:"my-header-content-left"},[e("div",{staticClass:"my-header-content-left-logo",on:{click:function(e){return e.stopPropagation(),t.$GA4CustomEvent("TopNav_Logo_Click","Tours4fun")}}},[e("a",{attrs:{href:t.$displaySiteUrl("/")}})]),t._v(" "),e("div",{staticClass:"my-header-content-left-menu"},[e("el-popover",{attrs:{placement:"bottom-start",width:"778",trigger:"hover","close-delay":50,"visible-arrow":!1,"append-to-body":!1},scopedSlots:t._u([{key:"reference",fn:function(){return[e("div",{staticClass:"my-header-content-left-menu-item",class:{checked:t.destinationPopoverShow}},[t._v("\n                            "+t._s(t.$t("components.MyHeader.Destination"))+"\n                        ")])]},proxy:!0}]),model:{value:t.destinationPopoverShow,callback:function(e){t.destinationPopoverShow=e},expression:"destinationPopoverShow"}},[t._v(" "),e("div",{staticClass:"my-header-content-left-menu-destination"},[e("div",{staticClass:"my-header-content-left-menu-destination-left"},[t._l(t.destinationOptions,(function(n,o){return[0===o?e("span",{key:o,class:{checked:t.destinationOptionsIndex===o},on:{mouseenter:function(e){return t.changeDestinationOptionsIndex(o)}}},[t._v("\n                                    "+t._s(n.name)+"\n                                ")]):e("a",{key:o,class:{checked:t.destinationOptionsIndex===o},attrs:{href:t.$displaySiteUrl(n.href)},on:{mouseenter:function(e){return t.changeDestinationOptionsIndex(o)},click:function(e){return e.stopPropagation(),t.destinationCustomEvent()}}},[t._v("\n                                    "+t._s(n.name)+"\n                                ")])]}))],2),t._v(" "),0===t.destinationOptionsIndex?e("div",{staticClass:"my-header-content-left-menu-destination-top"},t._l(t.destinationDetailOptions,(function(n,o){return e("a",{key:o,staticClass:"my-header-content-left-menu-destination-top-card",attrs:{href:t.$displaySiteUrl(n.href)},on:{click:function(e){return e.stopPropagation(),t.destinationCustomEvent(n.name)}}},[e("i",{style:{backgroundImage:"url(".concat(t.$getImageUrl(n.image),")")}}),t._v(" "),e("span",[t._v(t._s(n.name))])])})),0):e("div",{staticClass:"my-header-content-left-menu-destination-right"},t._l(t.destinationDetailOptions,(function(n,o){return e("div",{key:o,staticClass:"my-header-content-left-menu-destination-right-item"},[e("div",{staticClass:"my-header-content-left-menu-destination-right-item-name"},[e("a",{attrs:{href:t.$displaySiteUrl(n.href)},on:{click:function(e){return e.stopPropagation(),t.destinationCustomEvent(n.name)}}},[t._v("\n                                        "+t._s(n.name)+"\n                                    ")])]),t._v(" "),e("div",{staticClass:"my-header-content-left-menu-destination-right-item-content"},[t._l(n.links,(function(o,r){return[o.links.length>0?t._l(o.links,(function(o,c){return e("a",{key:"".concat(r,"-").concat(c),attrs:{href:t.$displaySiteUrl(o.href)},on:{click:function(e){return e.stopPropagation(),t.destinationCustomEvent(n.name,o.name)}}},[t._v("\n                                                "+t._s(o.name)+"\n                                            ")])})):e("a",{key:r,attrs:{href:t.$displaySiteUrl(o.href)},on:{click:function(e){return e.stopPropagation(),t.destinationCustomEvent(n.name,o.name)}}},[t._v("\n                                            "+t._s(o.name)+"\n                                        ")])]}))],2)])})),0)])]),t._v(" "),e("el-popover",{attrs:{placement:"bottom-start",width:"778",trigger:"hover","close-delay":50,"visible-arrow":!1,"append-to-body":!1},scopedSlots:t._u([{key:"reference",fn:function(){return[e("div",{staticClass:"my-header-content-left-menu-item",class:{checked:t.vacationPopoverShow}},[t._v("\n                            "+t._s(t.$t("components.MyHeader.VacationPackage"))+"\n                        ")])]},proxy:!0}]),model:{value:t.vacationPopoverShow,callback:function(e){t.vacationPopoverShow=e},expression:"vacationPopoverShow"}},[t._v(" "),e("div",{staticClass:"my-header-content-left-menu-destination"},[e("div",{staticClass:"my-header-content-left-menu-destination-left"},[t._l(t.vacationOptions,(function(n,o){return[0===o?e("span",{key:o,class:{checked:t.vacationOptionsIndex===o},on:{mouseenter:function(e){return t.changeVacationOptionsIndex(o)}}},[t._v("\n                                    "+t._s(n.name)+"\n                                ")]):e("a",{key:o,class:{checked:t.vacationOptionsIndex===o},attrs:{href:t.$displaySiteUrl(n.href)},on:{mouseenter:function(e){return t.changeVacationOptionsIndex(o)},click:function(e){return e.stopPropagation(),t.vacationPackageCustomEvent()}}},[t._v("\n                                    "+t._s(n.name)+"\n                                ")])]}))],2),t._v(" "),0===t.vacationOptionsIndex?e("div",{staticClass:"my-header-content-left-menu-destination-top"},t._l(t.vacationDetailOptions,(function(n,o){return e("a",{key:o,staticClass:"my-header-content-left-menu-destination-top-card",attrs:{href:t.$displaySiteUrl(n.href)},on:{click:function(e){return e.stopPropagation(),t.vacationPackageCustomEvent(n.name)}}},[e("i",{style:{backgroundImage:"url(".concat(t.$getImageUrl(n.image),")")}}),t._v(" "),e("span",[t._v(t._s(n.name))])])})),0):e("div",{staticClass:"my-header-content-left-menu-destination-right"},t._l(t.vacationDetailOptions,(function(n,o){return e("div",{key:o,staticClass:"my-header-content-left-menu-destination-right-item"},[e("div",{staticClass:"my-header-content-left-menu-destination-right-item-name"},[e("a",{attrs:{href:t.$displaySiteUrl(n.href)},on:{click:function(e){return e.stopPropagation(),t.vacationPackageCustomEvent(n.name)}}},[t._v("\n                                        "+t._s(n.name)+"\n                                    ")])]),t._v(" "),e("div",{staticClass:"my-header-content-left-menu-destination-right-item-content"},[t._l(n.links,(function(o,r){return[o.links.length>0?t._l(o.links,(function(o,c){return e("a",{key:"".concat(r,"-").concat(c),attrs:{href:t.$displaySiteUrl(o.href)},on:{click:function(e){return e.stopPropagation(),t.vacationPackageCustomEvent(n.name,o.name)}}},[t._v("\n                                                "+t._s(o.name)+"\n                                            ")])})):e("a",{key:r,attrs:{href:t.$displaySiteUrl(o.href)},on:{click:function(e){return e.stopPropagation(),t.vacationPackageCustomEvent(n.name,o.name)}}},[t._v("\n                                            "+t._s(o.name)+"\n                                        ")])]}))],2)])})),0)])]),t._v(" "),e("el-popover",{attrs:{placement:"bottom-start",width:"778",trigger:"hover","close-delay":50,"visible-arrow":!1,"append-to-body":!1},scopedSlots:t._u([{key:"reference",fn:function(){return[e("div",{staticClass:"my-header-content-left-menu-item",class:{checked:t.thingsPopoverShow}},[t._v("\n                            "+t._s(t.$t("components.MyHeader.ThingsToDo"))+"\n                        ")])]},proxy:!0}]),model:{value:t.thingsPopoverShow,callback:function(e){t.thingsPopoverShow=e},expression:"thingsPopoverShow"}},[t._v(" "),e("div",{staticClass:"my-header-content-left-menu-destination"},[e("div",{staticClass:"my-header-content-left-menu-destination-left"},[t._l(t.thingsOptions,(function(n,o){return[0===o?e("span",{key:o,class:{checked:t.thingsOptionsIndex===o},on:{mouseenter:function(e){return t.changeThingsOptionsIndex(o)}}},[t._v("\n                                    "+t._s(n.name)+"\n                                ")]):e("a",{key:o,class:{checked:t.thingsOptionsIndex===o},attrs:{href:t.$displaySiteUrl(n.href)},on:{mouseenter:function(e){return t.changeThingsOptionsIndex(o)},click:function(e){return e.stopPropagation(),t.thingsToDuCustomEvent()}}},[t._v("\n                                    "+t._s(n.name)+"\n                                ")])]}))],2),t._v(" "),0===t.thingsOptionsIndex?e("div",{staticClass:"my-header-content-left-menu-destination-top"},t._l(t.thingsDetailOptions,(function(n,o){return e("a",{key:o,staticClass:"my-header-content-left-menu-destination-top-card",attrs:{href:t.$displaySiteUrl(n.href)},on:{click:function(e){return e.stopPropagation(),t.thingsToDuCustomEvent(n.name)}}},[e("i",{style:{backgroundImage:"url(".concat(t.$getImageUrl(n.image),")")}}),t._v(" "),e("span",[t._v(t._s(n.name))])])})),0):e("div",{staticClass:"my-header-content-left-menu-destination-right"},t._l(t.thingsDetailOptions,(function(n,o){return e("div",{key:o,staticClass:"my-header-content-left-menu-destination-right-item"},[e("div",{staticClass:"my-header-content-left-menu-destination-right-item-name"},[e("a",{attrs:{href:t.$displaySiteUrl(n.href)},on:{click:function(e){return e.stopPropagation(),t.thingsToDuCustomEvent(n.name)}}},[t._v("\n                                        "+t._s(n.name)+"\n                                    ")])]),t._v(" "),e("div",{staticClass:"my-header-content-left-menu-destination-right-item-content"},[t._l(n.links,(function(o,r){return[o.links.length>0?t._l(o.links,(function(o,c){return e("a",{key:"".concat(r,"-").concat(c),attrs:{href:t.$displaySiteUrl(o.href)},on:{click:function(e){return e.stopPropagation(),t.thingsToDuCustomEvent(n.name,o.name)}}},[t._v("\n                                                "+t._s(o.name)+"\n                                            ")])})):e("a",{key:r,attrs:{href:t.$displaySiteUrl(o.href)},on:{click:function(e){return e.stopPropagation(),t.thingsToDuCustomEvent(n.name,o.name)}}},[t._v("\n                                            "+t._s(o.name)+"\n                                        ")])]}))],2)])})),0)])]),t._v(" "),e("div",{staticClass:"my-header-content-left-menu-item"},[e("nuxt-link",{attrs:{to:t.$displaySiteUrl("/deals/")}},[t._v(t._s(t.$t("components.MyHeader.Deals")))])],1)],1),t._v(" "),e("div",{staticClass:"my-header-content-left-icon",on:{click:t.openAsideDrawer}})]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showSearchInput,expression:"showSearchInput"}],staticClass:"my-header-content-right"},[e("el-popover",{ref:"popover",attrs:{width:"471",placement:"bottom-start","visible-arrow":!1,"append-to-body":!1,trigger:"focus","popper-class":"suggest-popover"}},[e("div",{staticClass:"my-header-content-right-input-suggest"},[!t.keywords&&t.historySearch.length>0?[e("div",{staticClass:"my-header-content-right-input-suggest-title"},[t._v("Search History")]),t._v(" "),e("div",{staticClass:"my-header-content-right-input-suggest-list"},t._l(t.historySearch,(function(n,o){return e("div",{key:o,staticClass:"my-header-content-right-input-suggest-list-item",on:{click:function(e){return t.clickToSearchResult(n)}}},["product"===n.source?e("div",{staticClass:"list-column"},[e("div",{staticClass:"my-header-content-right-input-suggest-list-item-name history-name ellipsis-two"},[t._v("\n                                        "+t._s(n.name)+"\n                                    ")]),t._v(" "),e("div",{staticClass:"my-header-content-right-input-suggest-list-item-type"},[t._v("Tour\n                                        Code:"+t._s(n.id)+"\n                                    ")])]):e("div",{staticClass:"my-header-content-right-input-suggest-list-item-name history-name ellipsis"},[t._v("\n                                    "+t._s(n.name)+"\n                                ")]),t._v(" "),"destination"===n.source?e("div",{staticClass:"my-header-content-right-input-suggest-list-item-type"},[t._v("\n                                    "+t._s(n.type)+"\n                                ")]):t._e(),t._v(" "),e("i",{staticClass:"el-icon-circle-close",on:{click:function(e){return e.stopPropagation(),t.deleteHistorySearch(o)}}})])})),0)]:t.keywords&&t.querySearchLoading?[e("div",{staticClass:"search-loading"},[e("i",{staticClass:"el-icon-loading"})])]:t.keywords?[t.searchSuggestDestinations.length>0?[e("div",{staticClass:"my-header-content-right-input-suggest-title"},[t._v("Destination")]),t._v(" "),e("div",{staticClass:"my-header-content-right-input-suggest-list destination-list"},t._l(t.searchSuggestDestinations,(function(n,o){return e("div",{key:o,staticClass:"my-header-content-right-input-suggest-list-item",on:{click:function(e){return t.clickSuggestDestinations(n)}}},[e("div",{staticClass:"my-header-content-right-input-suggest-list-item-name ellipsis"},[t._v("\n                                        "+t._s(n.name)+"\n                                    ")]),t._v(" "),e("div",{staticClass:"my-header-content-right-input-suggest-list-item-type"},[t._v("\n                                        "+t._s(n.type)+"\n                                    ")])])})),0)]:t._e(),t._v(" "),t.searchSuggestProducts.length>0?[e("div",{staticClass:"my-header-content-right-input-suggest-title"},[t._v("Product")]),t._v(" "),e("div",{staticClass:"my-header-content-right-input-suggest-list"},t._l(t.searchSuggestProducts,(function(n,o){return e("div",{key:o,staticClass:"my-header-content-right-input-suggest-list-item list-column",on:{click:function(e){return t.clickSuggestProducts(n)}}},[e("div",{staticClass:"my-header-content-right-input-suggest-list-item-name ellipsis-two"},[t._v("\n                                        "+t._s(n.productName)+"\n                                    ")]),t._v(" "),e("div",{staticClass:"my-header-content-right-input-suggest-list-item-type"},[t._v("Tour\n                                        Code:"+t._s(n.productId)+"\n                                    ")])])})),0)]:t._e()]:t._e()],2)]),t._v(" "),e("div",{staticClass:"my-header-content-right-input"},[e("el-input",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],attrs:{placeholder:t.marketingInfo?t.marketingInfo.title.slice(0,15):t.$t("components.MyHeader.SearchPlaceholder"),clearable:""},on:{input:t.querySearch},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.toSearchResult.apply(null,arguments)}},model:{value:t.keywords,callback:function(e){t.keywords=e},expression:"keywords"}},[e("template",{slot:"prefix"},[e("div",{staticClass:"my-header-content-right-input-icon"})])],2),t._v(" "),e("div",{staticClass:"my-header-content-right-input-btn cancel",on:{click:t.hideSearchInput}},[t._v("Cancel")]),t._v(" "),e("div",{staticClass:"my-header-content-right-input-btn search",on:{click:t.toSearchResult}},[t._v("Search")]),t._v(" "),!t.keywords&&t.marketingInfo?e("div",{staticClass:"marketing-info"},[e("div",{staticClass:"marketing-info-title"},[t._v("\n                        "+t._s(t.marketingInfo.title)+"\n                    ")]),t._v(" "),e("div",{staticClass:"marketing-tip"},[t._v("\n                        "+t._s(t.marketingInfo.tip)+"\n                    ")])]):t._e()],1)],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.showSearchInput,expression:"!showSearchInput"}],staticClass:"my-header-content-right"},[e("div",{staticClass:"my-header-content-right-search search-mobile",on:{click:t.openSearchDrawer}}),t._v(" "),e("div",{staticClass:"my-header-content-right-search search-pc",on:{click:t.openSearchInput}}),t._v(" "),e("el-popover",{attrs:{placement:"bottom-end",width:"200",trigger:"hover","close-delay":50,"visible-arrow":!1,"append-to-body":!1},scopedSlots:t._u([{key:"reference",fn:function(){return[e("div",{staticClass:"my-header-content-right-contact-popup"},[e("div",{staticClass:"my-header-content-right-contact",class:{checked:t.contactPopoverShow}})])]},proxy:!0}]),model:{value:t.contactPopoverShow,callback:function(e){t.contactPopoverShow=e},expression:"contactPopoverShow"}},[t._v(" "),e("div",{staticClass:"my-header-content-right-popover"},t._l(t.$store.state.contactOption,(function(n,o){return e("div",{key:o,staticClass:"my-header-content-right-popover-item"},[t._v("\n                        "+t._s(n)+"\n                    ")])})),0)]),t._v(" "),e("client-only",[t.userInfo?[e("nuxt-link",{staticClass:"my-header-content-right-recently",attrs:{to:"/mine/recently-viewed"}},[t._v("\n                        "+t._s(t.$t("components.MyHeader.RecentlyView"))+"\n                    ")]),t._v(" "),e("div",{staticClass:"my-header-content-right-heart",on:{click:t.toWishList}})]:t._e()],2),t._v(" "),e("div",{staticClass:"my-header-content-right-contact-drawer",on:{click:t.openContactDrawer}},[e("div",{staticClass:"my-header-content-right-contact"})]),t._v(" "),e("el-popover",{attrs:{placement:"bottom-end",width:"140",trigger:"hover","close-delay":50,"visible-arrow":!1,"append-to-body":!1},scopedSlots:t._u([{key:"reference",fn:function(){return[e("div",{staticClass:"my-header-content-right-currency",class:{checked:t.currencyPopoverShow}},[e("span",[t._v(t._s("".concat(t.$store.state.currencySymbol," ").concat(t.$store.state.currency)))]),t._v(" "),e("i",{staticClass:"el-icon-arrow-down"})])]},proxy:!0}]),model:{value:t.currencyPopoverShow,callback:function(e){t.currencyPopoverShow=e},expression:"currencyPopoverShow"}},[t._v(" "),e("div",{staticClass:"my-header-content-right-popover"},t._l(t.$store.state.currencyMap,(function(n,o){return e("div",{key:o,staticClass:"my-header-content-right-popover-item",class:{active:n.code===t.$store.state.currency},on:{click:function(e){return t.confirmCurrencyPopover(n)}}},[t._v("\n                        "+t._s("".concat(n.symbol," ").concat(n.code))+"\n                    ")])})),0)]),t._v(" "),e("el-divider",{attrs:{direction:"vertical"}}),t._v(" "),e("el-popover",{attrs:{placement:"bottom-end",width:"200",trigger:"hover","close-delay":50,"visible-arrow":!1,"append-to-body":!1},scopedSlots:t._u([{key:"reference",fn:function(){return[e("div",{staticClass:"my-header-content-right-language",class:{checked:t.languagePopoverShow}},[e("span",[t._v(t._s(t.$i18n.locale.toUpperCase()))]),t._v(" "),e("i",{staticClass:"el-icon-arrow-down"})])]},proxy:!0}]),model:{value:t.languagePopoverShow,callback:function(e){t.languagePopoverShow=e},expression:"languagePopoverShow"}},[t._v(" "),e("div",{staticClass:"my-header-content-right-popover"},t._l(t.$store.state.languageOptions,(function(n,o){return e("a",{key:o,staticClass:"my-header-content-right-popover-item",class:{active:n.code===t.$i18n.locale,"local-en":"en"===n.code},attrs:{target:n.target,href:t.dealLanguageUrl(n),rel:"noopener noreferrer"},on:{click:function(e){return e.stopPropagation(),t.$GA4CustomEvent("TopNav_Language_Switch",n.code)}}},[t._v("\n                        "+t._s(n.label)+"\n                    ")])})),0)]),t._v(" "),e("el-popover",{attrs:{placement:"bottom-end",width:"240",trigger:"hover","close-delay":50,"visible-arrow":!1,"append-to-body":!1},scopedSlots:t._u([{key:"reference",fn:function(){return[e("div",{staticClass:"my-header-content-right-account-popup"},[e("MyAvatar",{attrs:{size:"40","font-size":t.userInfo?"14":"20"}})],1)]},proxy:!0}]),model:{value:t.accountPopoverShow,callback:function(e){t.accountPopoverShow=e},expression:"accountPopoverShow"}},[t._v(" "),e("div",{staticClass:"my-header-content-right-popover"},[e("client-only",[t.userInfo?[e("MyMineMenu",{attrs:{padding:"12px 16px","font-size":"16px","border-radius":"0"},on:{success:t.closeAccountPopover}}),t._v(" "),e("div",{staticClass:"my-header-content-right-popover-logout",on:{click:t.toLogout}},[t._v("\n                                "+t._s(t.$t("components.MyHeader.Logout"))+"\n                            ")])]:[e("div",{staticClass:"my-header-content-right-popover-login"},[e("el-button",{attrs:{type:"primary"},on:{click:t.toLogin}},[t._v("\n                                    "+t._s(t.$t("components.MyHeader.LogIn"))+"\n                                ")]),t._v(" "),e("el-button",{on:{click:t.toSignUp}},[t._v(t._s(t.$t("components.MyHeader.SignUp")))]),t._v(" "),e("div",{staticClass:"my-header-content-right-popover-login-checkbooking",on:{click:t.openCheckBookings}},[e("strong"),t._v(" "),e("span",[t._v(t._s(t.$t("components.MyHeader.CheckBookings")))])])],1)]],2)],1)]),t._v(" "),e("div",{staticClass:"my-header-content-right-account-drawer",on:{click:t.openAccountDrawer}},[e("MyAvatar",{attrs:{size:"40","font-size":t.userInfo?"14":"20"}})],1),t._v(" "),e("div",{staticClass:"my-header-content-right-account-drawer-mobile",on:{click:t.openAccountDrawer}},[e("MyAvatar",{attrs:{size:"24","font-size":"14"}})],1)],1)]),t._v(" "),e("el-drawer",{attrs:{visible:t.accountDrawerShow,direction:"ltr",size:"100%"},on:{"update:visible":function(e){t.accountDrawerShow=e}},scopedSlots:t._u([{key:"title",fn:function(){return[t.userInfo?e("div",{staticClass:"my-header-drawer-account-title"},[e("MyAvatar",{attrs:{size:"50","font-size":"14"}}),t._v(" "),e("div",{staticClass:"my-header-drawer-account-content"},[e("strong",{staticClass:"ellipsis"},[t._v("\n                        "+t._s("Hi,".concat(t.userInfo.firstName," ").concat(t.userInfo.lastName))+"\n                    ")]),t._v(" "),e("span",{on:{click:t.toAccountInformation}},[t._v(t._s(t.$t("components.MyHeader.AccountInformation")))])])],1):t._e()]},proxy:!0}])},[t._v(" "),t.userInfo?e("MyMineMenu",{attrs:{padding:"20px","border-radius":"0"},on:{success:t.closeAccountDrawer}}):e("div",{staticClass:"my-header-drawer-account-login"},[e("el-button",{attrs:{type:"primary"},on:{click:t.toLogin}},[t._v(t._s(t.$t("components.MyHeader.LogIn")))]),t._v(" "),e("el-button",{on:{click:t.toSignUp}},[t._v(t._s(t.$t("components.MyHeader.SignUp")))])],1),t._v(" "),e("div",{staticClass:"my-header-drawer-account-system"},[t.userInfo?t._e():e("div",{staticClass:"my-header-drawer-account-system-item",on:{click:t.openCheckBookings}},[e("strong",{staticClass:"my-header-drawer-account-system-item-bookings"}),t._v(" "),e("span",{staticClass:"ellipsis"},[t._v(t._s(t.$t("components.MyHeader.CheckBookings")))])]),t._v(" "),e("div",{staticClass:"my-header-drawer-account-system-item",on:{click:t.openLanguageDrawer}},[e("strong",{staticClass:"my-header-drawer-account-system-item-language"}),t._v(" "),e("span",{staticClass:"ellipsis"},[t._v("English - EN")])]),t._v(" "),e("div",{staticClass:"my-header-drawer-account-system-item",on:{click:t.openCurrencyDrawer}},[e("strong",{staticClass:"my-header-drawer-account-system-item-currency"}),t._v(" "),e("span",{staticClass:"ellipsis"},[t._v(t._s("".concat(t.$store.state.currencySymbol," ").concat(t.$store.state.currency)))])]),t._v(" "),t.userInfo?e("div",{staticClass:"my-header-drawer-account-system-item"},[e("strong",{staticClass:"my-header-drawer-account-system-item-logout"}),t._v(" "),e("span",{staticClass:"ellipsis",on:{click:t.toLogout}},[t._v("Logout")])]):t._e()])],1),t._v(" "),e("el-drawer",{attrs:{visible:t.asideDrawerShow,direction:"ltr",size:"100%"},on:{"update:visible":function(e){t.asideDrawerShow=e}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"my-header-drawer-title"},[e("div",{staticClass:"my-header-drawer-title-logo"})])]},proxy:!0}])},[t._v(" "),e("div",{staticClass:"my-header-drawer-item destination",on:{click:function(e){return t.openDestinationDrawer("destination")}}},[e("strong",[t._v(t._s(t.$t("components.MyHeader.Destination")))]),t._v(" "),e("i",{staticClass:"el-icon-arrow-right"})]),t._v(" "),e("div",{staticClass:"my-header-drawer-item vocation",on:{click:function(e){return t.openDestinationDrawer("vocation")}}},[e("strong",[t._v(t._s(t.$t("components.MyHeader.VacationPackage")))]),t._v(" "),e("i",{staticClass:"el-icon-arrow-right"})]),t._v(" "),e("div",{staticClass:"my-header-drawer-item things",on:{click:function(e){return t.openDestinationDrawer("things")}}},[e("strong",[t._v(t._s(t.$t("components.MyHeader.ThingsToDo")))]),t._v(" "),e("i",{staticClass:"el-icon-arrow-right"})]),t._v(" "),e("a",{staticClass:"my-header-drawer-item deals",attrs:{href:t.$displaySiteUrl("/deals/")}},[e("strong",[t._v(t._s(t.$t("components.MyHeader.Deals")))]),t._v(" "),e("i",{staticClass:"el-icon-arrow-right"})])]),t._v(" "),e("el-drawer",{attrs:{visible:t.destinationDrawerShow,direction:"ltr",size:"100%"},on:{"update:visible":function(e){t.destinationDrawerShow=e}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"my-header-drawer-title"},[e("i",{staticClass:"el-icon-arrow-left",on:{click:t.closeDestinationDrawer}}),t._v(" "),"destination"===t.asideDrawerType?e("strong",[t._v("\n                    "+t._s(t.$t("components.MyHeader.Destination"))+"\n                ")]):"vocation"===t.asideDrawerType?e("strong",[t._v("\n                    "+t._s(t.$t("components.MyHeader.VacationPackage"))+"\n                ")]):e("strong",[t._v(t._s(t.$t("components.MyHeader.ThingsToDo")))])])]},proxy:!0}])},[t._v(" "),t._l(t.asideDrawerTypeOptions,(function(n,o){return e("div",{key:o,staticClass:"my-header-drawer-item",on:{click:function(e){return t.openDestinationDetailDrawer(n,o)}}},[e("strong",[t._v(t._s(n.name))]),t._v(" "),e("i",{staticClass:"el-icon-arrow-right"})])}))],2),t._v(" "),e("el-drawer",{attrs:{visible:t.destinationDetailDrawerShow,direction:"ltr",size:"100%"},on:{"update:visible":function(e){t.destinationDetailDrawerShow=e}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"my-header-drawer-title"},[e("i",{staticClass:"el-icon-arrow-left",on:{click:t.closeDestinationDetailDrawer}}),t._v(" "),e("strong",[t._v(t._s(t.asideDrawerDetailTitle))])])]},proxy:!0}])},[t._v(" "),0===t.destinationOptionsIndex?t._l(t.asideDrawerTypeDetailOptions,(function(n,o){return e("div",{key:o,staticClass:"my-header-drawer-item"},[e("a",{attrs:{href:t.$displaySiteUrl(n.href)}},[t._v(t._s(n.name))])])})):t._l(t.asideDrawerTypeDetailOptions,(function(n,o){return e("div",{key:o,staticClass:"my-header-drawer-item",on:{click:function(e){return t.openDestinationDetailChildrenDrawer(n,o)}}},[e("strong",[t._v(t._s(n.name))]),t._v(" "),e("i",{staticClass:"el-icon-arrow-right"})])}))],2),t._v(" "),e("el-drawer",{attrs:{visible:t.destinationDetailChildrenDrawerShow,direction:"ltr",size:"100%"},on:{"update:visible":function(e){t.destinationDetailChildrenDrawerShow=e}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"my-header-drawer-title"},[e("i",{staticClass:"el-icon-arrow-left",on:{click:t.closeDestinationDetailChildrenDrawer}}),t._v(" "),e("strong",[t._v(t._s(t.destinationDetailChildrenTitle))])])]},proxy:!0}])},[t._v(" "),t._l(t.destinationDetailChildrenOptions,(function(n,o){return[n.links.length>0?t._l(n.links,(function(r,c){return e("div",{key:"".concat(o,"-").concat(c),staticClass:"my-header-drawer-item"},[e("a",{attrs:{href:t.$displaySiteUrl(r.href)},on:{click:function(e){return e.stopPropagation(),t.asideDrawerCustomEvent(t.asideDrawerTypeOptions[t.destinationOptionsIndex].name,t.asideDrawerTypeDetailOptions[t.destinationDetailOptionsIndex].name,n.name)}}},[t._v("\n                        "+t._s(r.name)+"\n                    ")])])})):[e("div",{key:o,staticClass:"my-header-drawer-item"},[e("a",{attrs:{href:t.$displaySiteUrl(n.href)},on:{click:function(e){return e.stopPropagation(),t.asideDrawerCustomEvent(t.asideDrawerTypeOptions[t.destinationOptionsIndex].name,t.asideDrawerTypeDetailOptions[t.destinationDetailOptionsIndex].name,n.name)}}},[t._v("\n                        "+t._s(n.name)+"\n                    ")])])]]}))],2),t._v(" "),e("el-drawer",{attrs:{visible:t.contactDrawerShow,direction:"ltr",size:"100%"},on:{"update:visible":function(e){t.contactDrawerShow=e}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"my-header-drawer-title"},[e("strong",[t._v(t._s(t.$t("components.MyHeader.Contact")))])])]},proxy:!0}])},[t._v(" "),t._l(t.$store.state.contactOption,(function(n,o){return e("div",{key:o,staticClass:"my-header-drawer-item"},[e("span",[t._v(t._s(n))])])}))],2),t._v(" "),e("el-drawer",{attrs:{visible:t.currencyDrawerShow,direction:"ltr",size:"100%"},on:{"update:visible":function(e){t.currencyDrawerShow=e}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"my-header-drawer-title"},[e("i",{staticClass:"el-icon-arrow-left"}),t._v(" "),e("strong",[t._v(t._s(t.$t("components.MyHeader.Currency")))])])]},proxy:!0}])},[t._v(" "),t._l(t.$store.state.currencyMap,(function(n,o){return e("div",{key:o,staticClass:"my-header-drawer-item"},[e("span",{on:{click:function(e){return t.confirmCurrencyDrawer(n)}}},[t._v(t._s("".concat(n.symbol," ").concat(n.code)))])])}))],2),t._v(" "),e("el-drawer",{attrs:{visible:t.languageDrawerShow,direction:"ltr",size:"100%"},on:{"update:visible":function(e){t.languageDrawerShow=e}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"my-header-drawer-title"},[e("i",{staticClass:"el-icon-arrow-left",on:{click:t.closeLanguageDrawer}}),t._v(" "),e("strong",[t._v(t._s(t.$t("components.MyHeader.Language")))])])]},proxy:!0}])},[t._v(" "),t._l(t.$store.state.languageOptions,(function(n,o){return e("div",{key:o,staticClass:"my-header-drawer-item",class:{checked:t.$i18n.locale===n.code},on:{click:function(e){return e.stopPropagation(),t.$GA4CustomEvent("TopNav_Language_Switch",n.code)}}},[e("a",{attrs:{href:t.dealLanguageUrl(n),target:n.target,rel:"noopener noreferrer"}},[t._v("\n                "+t._s(n.label)+"\n            ")])])}))],2),t._v(" "),e("MyCustomPopup",{attrs:{title:"Search","custom-class":"my-header-drawer-search"},model:{value:t.searchDrawerShow,callback:function(e){t.searchDrawerShow=e},expression:"searchDrawerShow"}},[e("div",{staticClass:"drawer-input-wrapper"},[e("el-input",{attrs:{placeholder:t.marketingInfo?t.marketingInfo.title:t.$t("components.MyHeader.SearchPlaceholder"),clearable:""},on:{input:t.querySearch},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.toSearchResult.apply(null,arguments)}},model:{value:t.keywords,callback:function(e){t.keywords=e},expression:"keywords"}},[e("template",{slot:"prefix"},[e("div",{staticClass:"my-header-drawer-search-icon"})])],2),t._v(" "),!t.keywords&&t.marketingInfo?e("div",{staticClass:"marketing-info"},[e("div",{staticClass:"marketing-info-title"},[t._v("\n                    "+t._s(t.marketingInfo.title)+"\n                ")]),t._v(" "),e("div",{staticClass:"marketing-tip"},[t._v("\n                    "+t._s(t.marketingInfo.tip)+"\n                ")])]):t._e()],1),t._v(" "),e("div",{staticClass:"my-header-drawer-search-popover"},[e("div",{staticClass:"my-header-content-right-input-suggest"},[!t.keywords&&t.historySearch.length>0?[e("div",{staticClass:"my-header-content-right-input-suggest-title"},[t._v("Search History")]),t._v(" "),e("div",{staticClass:"my-header-content-right-input-suggest-list"},t._l(t.historySearch,(function(n,o){return e("div",{key:o,staticClass:"my-header-content-right-input-suggest-list-item",on:{click:function(e){return t.clickToSearchResult(n)}}},["product"===n.source?e("div",{staticClass:"list-column"},[e("div",{staticClass:"my-header-content-right-input-suggest-list-item-name history-name ellipsis-two"},[t._v("\n                                    "+t._s(n.name)+"\n                                ")]),t._v(" "),e("div",{staticClass:"my-header-content-right-input-suggest-list-item-type"},[t._v("Tour\n                                    Code:"+t._s(n.id)+"\n                                ")])]):e("div",{staticClass:"my-header-content-right-input-suggest-list-item-name history-name ellipsis"},[t._v("\n                                "+t._s(n.name)+"\n                            ")]),t._v(" "),"destination"===n.source?e("div",{staticClass:"my-header-content-right-input-suggest-list-item-type"},[t._v(t._s(n.type)+"\n                            ")]):t._e(),t._v(" "),e("i",{staticClass:"el-icon-circle-close",on:{click:function(e){return e.stopPropagation(),t.deleteHistorySearch(o)}}})])})),0)]:t.keywords&&t.querySearchLoading?[e("div",{staticClass:"search-loading"},[e("i",{staticClass:"el-icon-loading"})])]:t.keywords?[t.searchSuggestDestinations.length>0?[e("div",{staticClass:"my-header-content-right-input-suggest-title"},[t._v("Destination")]),t._v(" "),e("div",{staticClass:"my-header-content-right-input-suggest-list destination-list"},t._l(t.searchSuggestDestinations,(function(n,o){return e("div",{key:o,staticClass:"my-header-content-right-input-suggest-list-item",on:{click:function(e){return t.clickSuggestDestinations(n)}}},[e("div",{staticClass:"my-header-content-right-input-suggest-list-item-name ellipsis"},[t._v("\n                                    "+t._s(n.name)+"\n                                ")]),t._v(" "),e("div",{staticClass:"my-header-content-right-input-suggest-list-item-type"},[t._v(t._s(n.type)+"\n                                ")])])})),0)]:t._e(),t._v(" "),t.searchSuggestProducts.length>0?[e("div",{staticClass:"my-header-content-right-input-suggest-title"},[t._v("Product")]),t._v(" "),e("div",{staticClass:"my-header-content-right-input-suggest-list"},t._l(t.searchSuggestProducts,(function(n,o){return e("div",{key:o,staticClass:"my-header-content-right-input-suggest-list-item list-column",on:{click:function(e){return t.clickSuggestProducts(n)}}},[e("div",{staticClass:"my-header-content-right-input-suggest-list-item-name ellipsis-two"},[t._v("\n                                    "+t._s(n.productName)+"\n                                ")]),t._v(" "),e("div",{staticClass:"my-header-content-right-input-suggest-list-item-type"},[t._v("Tour\n                                    Code:"+t._s(n.productId)+"\n                                ")])])})),0)]:t._e()]:t._e()],2)]),t._v(" "),e("div",{staticClass:"my-header-drawer-search-btn",on:{click:t.toSearchResult}},[t._v("Search")])])],1)}),[],!1,null,"9db3ce6e",null);e.default=component.exports},698:function(t,e,n){t.exports={}},699:function(t,e,n){t.exports={}},928:function(t,e,n){"use strict";n(698)},929:function(t,e,n){"use strict";n(699)}}]);