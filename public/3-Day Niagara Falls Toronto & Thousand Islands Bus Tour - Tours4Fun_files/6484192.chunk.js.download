(window.webpackJsonp=window.webpackJsonp||[]).push([[127],{1040:function(t,e,r){"use strict";r(780)},1235:function(t,e,r){"use strict";r.r(e);r(13),r(23),r(561),r(562),r(563),r(564),r(565),r(566),r(567),r(568),r(569),r(570),r(571),r(572),r(573),r(574),r(575),r(576),r(16);var o={name:"MyProductMap",components:{MyCustomPopup:()=>r.e(0).then(r.bind(null,1191)),MyMapBox:()=>Promise.all([r.e(158),r.e(71)]).then(r.bind(null,1258))},props:{baseInfo:{type:Object,required:!0},displayPrice:{type:Object,required:!0},productItineraryInfo:{type:Array,required:!0},markers:{type:Array,required:!0}},data:()=>({mapUrl:"",showBigMap:!1}),computed:{displaySpecial(){var t="",e=this.displayPrice.policyInfo;return e&&(e.isRetail&&"percent"===e.discountType&&(t="".concat((1e6-1e4*e.percent)/1e4,"%")),e.isRetail&&"amount"===e.discountType&&(t=this.$priceFormatter(this.displayPrice.originalDisplayPrice-this.displayPrice.displayPrice))),t},displayPriceDescription(){return["1. ".concat(this.displayPrice.priceDescription),"2. The price of the product will vary according to the selected departure date, number of travelers. hotel/room type, upgrade items, additional services, etc. The actual price shall prevail when placing an order."]}},watch:{markers:{immediate:!0,handler(t){if(t.length>0){var e="pk.eyJ1IjoidG91cnM0ZnVuIiwiYSI6ImNtNTB0OWFyajF3azMyaXA3ajRkM2t3enQifQ.g-LRKYRFvzUFpyvae9xljQ",r=[...new Set(t.map((t=>t.join())))],o="pin-s-embassy+42c4ab(".concat(t[0].join(),")"),c="pin-s-embassy+f74e4e(".concat(t[t.length-1].join(),")"),n="1000x200";if(1===r.length)this.mapUrl="https://api.mapbox.com/styles/v1/mapbox/streets-v12/static/".concat(o,"/").concat(t[0].join(),",7/").concat(n,"?access_token=").concat(e);else{var l={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"MultiPoint",coordinates:t},properties:{"marker-url":"https://cdn.tff.bz/public/wt/66/f9/20241224094120054727660.png",color:"#0a7bbd"}},{type:"Feature",geometry:{type:"LineString",coordinates:t},properties:{stroke:"#0a7bbd","stroke-width":2}}]};this.mapUrl="https://api.mapbox.com/styles/v1/mapbox/streets-v12/static/geojson(".concat(encodeURIComponent(JSON.stringify(l)),"),").concat(o,",").concat(c,"/auto/").concat(n,"?access_token=").concat(e)}}}}}},c=(r(1040),r(63)),component=Object(c.a)(o,(function(){var t=this,e=t._self._c;return t.mapUrl?e("div",{attrs:{id:"my-product-map"}},[e("el-image",{attrs:{src:t.mapUrl,fit:"cover",alt:"".concat(t.baseInfo.name,"-map")},on:{click:function(e){t.showBigMap=!0}}}),t._v(" "),e("MyCustomPopup",{staticClass:"my-product-map-popup",attrs:{width:1168,"with-header":!1},on:{closed:function(e){t.showBigMap=!1}},model:{value:t.showBigMap,callback:function(e){t.showBigMap=e},expression:"showBigMap"}},[e("div",{staticClass:"my-product-map-popup-section"},[e("div",{staticClass:"my-product-map-popup-section-left"},[e("div",{staticClass:"my-product-map-popup-section-left-main"},[e("MyMapBox",{attrs:{markers:t.markers,"product-itinerary-info":t.productItineraryInfo}})],1)]),t._v(" "),e("div",{staticClass:"my-product-map-popup-section-right"},[e("div",{staticClass:"my-product-map-popup-close"},[e("i",{staticClass:"el-icon-close",on:{click:function(e){t.showBigMap=!1}}})]),t._v(" "),e("div",{staticClass:"my-product-map-popup-section-right-title"},[t._v(t._s(t.$getNameAndTag(t.baseInfo.name).name))]),t._v(" "),e("div",{staticClass:"my-product-map-popup-section-right-price"},[t.displayPrice.displayPrice!==t.displayPrice.originalDisplayPrice?e("div",{staticClass:"my-product-map-popup-section-right-price-original"},[e("span",[t._v("From")]),t._v(" "),e("s",[t._v(t._s(t.$priceFormatter(t.displayPrice.originalDisplayPrice)))])]):t._e(),t._v(" "),e("div",{staticClass:"my-product-map-popup-section-right-price-display"},[e("strong",{class:{special:t.displaySpecial}},[t._v("\n                            "+t._s(t.$priceFormatter(t.displayPrice.displayPrice))+"\n                        ")]),t._v(" "),e("s",[t._v("per person")]),t._v(" "),e("el-popover",{attrs:{width:"240",placement:"top",trigger:"hover"},scopedSlots:t._u([{key:"reference",fn:function(){return[e("i",{staticClass:"el-icon-warning-outline"})]},proxy:!0}],null,!1,53926089)},[t._v(" "),t._l(t.displayPriceDescription,(function(r,o){return e("div",{key:o,domProps:{innerHTML:t._s(r)}})}))],2)],1),t._v(" "),t.displaySpecial?e("div",{staticClass:"my-product-map-popup-section-right-price-special"},[e("span",[t._v("Save")]),t._v(" "),e("strong",[t._v(t._s(t.displaySpecial))])]):t._e()]),t._v(" "),e("div",{staticClass:"my-product-map-popup-section-right-itinerary"},[e("div",{staticClass:"my-product-map-popup-section-right-itinerary-title"},[t._v("Destinations")]),t._v(" "),t._l(t.productItineraryInfo,(function(r,o){return e("div",{key:o,staticClass:"my-product-map-popup-section-right-itinerary-item"},[e("strong",[t._v(t._s("D".concat(o+1)))]),t._v(" "),e("span",[t._v(t._s(r.title))])])}))],2)])])])],1):t._e()}),[],!1,null,"90ac088e",null);e.default=component.exports},780:function(t,e,r){t.exports={}}}]);